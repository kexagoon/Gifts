const giftBoxes = document.querySelectorAll('.gift-box');
const anecdoteModal = document.querySelector('.anecdote-modal');
const closeButton = document.querySelector('.close-button');
const anecdoteText = document.getElementById('anecdote-text');

const anecdotes = [
    "ÐŸÐ¾Ñ‡ÐµÐ¼Ñƒ Ð¿Ñ€Ð¾Ð³Ñ€Ð°Ð¼Ð¼Ð¸ÑÑ‚Ñ‹ Ð²ÑÐµÐ³Ð´Ð° Ð¿ÑƒÑ‚Ð°ÑŽÑ‚ Ð¥ÑÐ»Ð»Ð¾ÑƒÐ¸Ð½ Ð¸ Ð Ð¾Ð¶Ð´ÐµÑÑ‚Ð²Ð¾? ÐŸÐ¾Ñ‚Ð¾Ð¼Ñƒ Ñ‡Ñ‚Ð¾ Oct 31 == Dec 25.",
    "Ð’ Ñ‡Ñ‘Ð¼ Ñ€Ð°Ð·Ð½Ð¸Ñ†Ð° Ð¼ÐµÐ¶Ð´Ñƒ Ð¿Ñ€Ð¾Ð³Ñ€Ð°Ð¼Ð¼Ð¸ÑÑ‚Ð¾Ð¼ Ð¸ Ð¾Ð±Ñ‹Ñ‡Ð½Ñ‹Ð¼ Ñ‡ÐµÐ»Ð¾Ð²ÐµÐºÐ¾Ð¼? ÐžÐ±Ñ‹Ñ‡Ð½Ñ‹Ð¹ Ñ‡ÐµÐ»Ð¾Ð²ÐµÐº Ð´ÑƒÐ¼Ð°ÐµÑ‚, Ñ‡Ñ‚Ð¾ ÐºÐ¸Ð»Ð¾Ð±Ð°Ð¹Ñ‚ â€” ÑÑ‚Ð¾ Ñ‚Ñ‹ÑÑÑ‡Ð° Ð±Ð°Ð¹Ñ‚, Ð° Ð¿Ñ€Ð¾Ð³Ñ€Ð°Ð¼Ð¼Ð¸ÑÑ‚ Ð´ÑƒÐ¼Ð°ÐµÑ‚, Ñ‡Ñ‚Ð¾ ÐºÐ¸Ð»Ð¾Ð¼ÐµÑ‚Ñ€ â€” ÑÑ‚Ð¾ 1024 Ð¼ÐµÑ‚Ñ€Ð°.",
    "Ð—Ð°Ñ…Ð¾Ð´Ð¸Ñ‚ ÐºÐ°Ðº-Ñ‚Ð¾ Ð² Ð±Ð°Ñ€ HTML, CSS Ð¸ JavaScript. HTML Ð³Ð¾Ð²Ð¾Ñ€Ð¸Ñ‚: 'Ð¯ Ð±ÑƒÐ´Ñƒ ÑÑ‚Ñ€ÑƒÐºÑ‚ÑƒÑ€Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ!' CSS: 'Ð Ñ Ð±ÑƒÐ´Ñƒ ÑÑ‚Ð¸Ð»Ð¸Ð·Ð¾Ð²Ð°Ñ‚ÑŒ!' Ð JavaScript: 'Ð¯ Ð¿Ñ€Ð¸Ð²ÐµÐ´Ñƒ ÑÑ‚Ð¾ Ð²ÑÑ‘ Ð² Ð´Ð²Ð¸Ð¶ÐµÐ½Ð¸Ðµ!'",
    "ÐšÐ°Ðº Ð½Ð°Ð·Ñ‹Ð²Ð°ÐµÑ‚ÑÑ ÑÐ¾Ð±Ð°ÐºÐ° Ñ…Ð°ÐºÐµÑ€Ð°? Ð‘Ð¸Ñ‚ÐºÐ¾Ð¹Ð½Ñ‚ÐµÑ€ÑŒÐµÑ€.",
    "ÐŸÐ¾Ñ‡ÐµÐ¼Ñƒ Ð¿Ñ€Ð¾Ð³Ñ€Ð°Ð¼Ð¼Ð¸ÑÑ‚Ñ‹ Ð½Ðµ Ð»ÑŽÐ±ÑÑ‚ Ð¿Ñ€Ð¸Ñ€Ð¾Ð´Ñƒ? ÐŸÐ¾Ñ‚Ð¾Ð¼Ñƒ Ñ‡Ñ‚Ð¾ Ñ‚Ð°Ð¼ ÑÐ»Ð¸ÑˆÐºÐ¾Ð¼ Ð¼Ð½Ð¾Ð³Ð¾ Ð±Ð°Ð³Ð¾Ð², Ð¸ Ð½ÐµÑ‚ ÐºÐ½Ð¾Ð¿ÐºÐ¸ 'Ð¾Ñ‚Ð¼ÐµÐ½Ð°'.",
    "Ð§Ñ‚Ð¾ Ð³Ð¾Ð²Ð¾Ñ€Ð¸Ñ‚ Ð¾Ð´Ð¸Ð½ Ð±Ð°Ð¹Ñ‚ Ð´Ñ€ÑƒÐ³Ð¾Ð¼Ñƒ Ð±Ð°Ð¹Ñ‚Ñƒ? 'Ð‘Ð¸Ñ‚ Ñ‚ÐµÐ±Ñ Ð¿Ð¾Ð¿Ð¾Ð»Ð°Ð¼!'",
    "ÐšÐ°ÐºÐ¾Ðµ Ð»ÑŽÐ±Ð¸Ð¼Ð¾Ðµ Ð±Ð»ÑŽÐ´Ð¾ Ð¿Ñ€Ð¾Ð³Ñ€Ð°Ð¼Ð¼Ð¸ÑÑ‚Ð°? Ð§Ð¸Ð¿ÑÑ‹ Ð¸ ÐºÐ¾Ð»Ð°, Ð¿Ð¾Ñ‚Ð¾Ð¼Ñƒ Ñ‡Ñ‚Ð¾ 'ÐºÐ¾Ð´Ð¸Ð½Ð³' Ð±ÐµÐ· Ð½Ð¸Ñ… Ð½Ðµ Ð¸Ð´Ñ‘Ñ‚.",
    "ÐŸÑ€Ð¾Ð³Ñ€Ð°Ð¼Ð¼Ð¸ÑÑ‚ â€” ÑÑ‚Ð¾ Ñ‡ÐµÐ»Ð¾Ð²ÐµÐº, ÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ð¹ Ñ€ÐµÑˆÐ°ÐµÑ‚ Ð¿Ñ€Ð¾Ð±Ð»ÐµÐ¼Ñƒ, Ð¾ ÑÑƒÑ‰ÐµÑÑ‚Ð²Ð¾Ð²Ð°Ð½Ð¸Ð¸ ÐºÐ¾Ñ‚Ð¾Ñ€Ð¾Ð¹ Ð²Ñ‹ Ð´Ð°Ð¶Ðµ Ð½Ðµ Ð¿Ð¾Ð´Ð¾Ð·Ñ€ÐµÐ²Ð°Ð»Ð¸, ÑÐ¿Ð¾ÑÐ¾Ð±Ð¾Ð¼, ÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ð¹ Ð²Ñ‹ Ð½Ðµ Ð¿Ð¾Ð½Ð¸Ð¼Ð°ÐµÑ‚Ðµ.",
    "ÐŸÐ¾Ñ‡ÐµÐ¼Ñƒ Ð¿Ñ€Ð¾Ð³Ñ€Ð°Ð¼Ð¼Ð¸ÑÑ‚Ñ‹ Ñ‚Ð°ÐºÐ¸Ðµ Ð¿Ð»Ð¾Ñ…Ð¸Ðµ ÑÐ°Ð´Ð¾Ð²Ð½Ð¸ÐºÐ¸? ÐŸÐ¾Ñ‚Ð¾Ð¼Ñƒ Ñ‡Ñ‚Ð¾ Ð¾Ð½Ð¸ Ð²ÑÐµÐ³Ð´Ð° Ð¶Ð´ÑƒÑ‚, Ð¿Ð¾ÐºÐ° Ð¸Ñ… ÐºÐ¾Ð´ Ð²Ñ‹Ñ€Ð°ÑÑ‚ÐµÑ‚ ÑÐ°Ð¼ Ð¿Ð¾ ÑÐµÐ±Ðµ.",
    "Ð”Ð²Ð° Ð¿Ñ€Ð¾Ð³Ñ€Ð°Ð¼Ð¼Ð¸ÑÑ‚Ð° Ñ€Ð°Ð·Ð³Ð¾Ð²Ð°Ñ€Ð¸Ð²Ð°ÑŽÑ‚: - Ð¯ Ð²Ñ‡ÐµÑ€Ð° Ñ‚Ð°Ðº Ñ…Ð¾Ñ€Ð¾ÑˆÐ¾ Ð¿Ð¾Ð³ÑƒÐ»ÑÐ» Ð½Ð° ÑÐ²ÐµÐ¶ÐµÐ¼ Ð²Ð¾Ð·Ð´ÑƒÑ…Ðµ! - Ð ÑÑ‚Ð¾ ÐºÐ°Ðº? - Ð¡ÐºÐ¾Ð¼Ð¿Ð¸Ð»Ð¸Ñ€Ð¾Ð²Ð°Ð» ÐºÐ¾Ð´ Ð½Ð° ÑƒÐ»Ð¸Ñ†Ðµ."
];

const openedGifts = new Set();

giftBoxes.forEach(box => {
    box.addEventListener('click', () => {
        const giftId = box.dataset.giftId;

        if (!openedGifts.has(giftId)) {
            openedGifts.add(giftId);
            box.classList.add('opened');
            box.textContent = 'ðŸŽ‰'; // Change emoji to celebration

            const randomIndex = Math.floor(Math.random() * anecdotes.length);
            anecdoteText.textContent = anecdotes[randomIndex];
            anecdoteModal.classList.add('active');
        }
    });
});

closeButton.addEventListener('click', () => {
    anecdoteModal.classList.remove('active');
});

anecdoteModal.addEventListener('click', (e) => {
    if (e.target === anecdoteModal) {
        anecdoteModal.classList.remove('active');
    }
});
